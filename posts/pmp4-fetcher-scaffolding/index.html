<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="PMP Update 4: Fetcher scaffolding" /><meta property="og:locale" content="en" /><meta name="description" content="I caught up with my friend Matt and talked through some of the questions from my previous post, which was a huge help and unblocked me enough to write the scaffolding for the fetcher service (thanks Matt)." /><meta property="og:description" content="I caught up with my friend Matt and talked through some of the questions from my previous post, which was a huge help and unblocked me enough to write the scaffolding for the fetcher service (thanks Matt)." /><link rel="canonical" href="https://httpete.nz/posts/pmp4-fetcher-scaffolding/" /><meta property="og:url" content="https://httpete.nz/posts/pmp4-fetcher-scaffolding/" /><meta property="og:site_name" content="httpete.nz" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-12T22:00:00+12:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="PMP Update 4: Fetcher scaffolding" /><meta name="twitter:site" content="@nz_pete" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-12-22T03:21:03+13:00","datePublished":"2022-07-12T22:00:00+12:00","description":"I caught up with my friend Matt and talked through some of the questions from my previous post, which was a huge help and unblocked me enough to write the scaffolding for the fetcher service (thanks Matt).","headline":"PMP Update 4: Fetcher scaffolding","mainEntityOfPage":{"@type":"WebPage","@id":"https://httpete.nz/posts/pmp4-fetcher-scaffolding/"},"url":"https://httpete.nz/posts/pmp4-fetcher-scaffolding/"}</script><title>PMP Update 4: Fetcher scaffolding | httpete.nz</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="httpete.nz"><meta name="application-name" content="httpete.nz"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/pete.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">httpete.nz</a></div><div class="site-subtitle font-italic">Pete Russell</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-code ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/contact/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>CONTACT</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/peterussell" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/nz_pete" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['pete.russell01','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>PMP Update 4: Fetcher scaffolding</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>PMP Update 4: Fetcher scaffolding</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Pete Russell </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Tue, Jul 12, 2022, 10:00 PM +1200" >Jul 12, 2022<i class="unloaded">2022-07-12T22:00:00+12:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Dec 21, 2023, 8:21 AM -0600" >Dec 21, 2023<i class="unloaded">2023-12-22T03:21:03+13:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="748 words">4 min read</span></div></div><div class="post-content"><p>I caught up with my friend Matt and talked through some of the questions from my <a href="/posts/from-scratch/">previous post</a>, which was a huge help and unblocked me enough to write the scaffolding for the fetcher service (thanks Matt).</p><p>The fetcher’s responsible for checking for new chart data on the <a href="https://www.faa.gov/air_traffic/flight_info/aeronav/digital_products/vfr/">FAA website</a> and syncing any updates.</p><p>Before getting too far into that, here are the answers to a couple of the things I was thinking about last time.</p><h3 id="question-1-reloading-java-code-in-dev-containers">Question 1: reloading Java code in dev containers</h3><blockquote><p>What’s the best way to get Java updates into containers running in dev? Can we do hot-reloading? What triggers recompiles?</p></blockquote><p>Hot-reloading Java code inside a container is possible, but while thinking it through I realized the easier approach was probably just to run the Java app locally while developing, and build the docker image as part of the build pipeline.</p><p>I might run into issues here where I want to develop directly in the container (which should be possible with docker <a href="https://docs.docker.com/storage/bind-mounts/">bind mounts</a>), but this is probably a case where <a href="https://medium.com/swlh/remote-debugging-a-java-application-running-in-docker-container-with-intellij-idea-efe54cd77f02">attaching a remote debugger in from IntelliJ to code in the container</a> would work nicely. I’m likely to use this approach, and will write up some notes if I do.</p><h3 id="question-2-replicating-aws-infrastructure-in-dev">Question 2: Replicating AWS infrastructure in dev</h3><blockquote><p>How do we replicate AWS infra like S3 (for storing map data) and a message bus in dev?</p></blockquote><p>There are two options here. I haven’t explored either in depth so don’t have good grasp on any limitations yet, but they are…</p><ol><li>Set up dev infrastructure in AWS replicating the production environment. This means the envrionment will be a lot closer to a production setup, and lets you test things like keys, paths, etc. knowing that it’s what you’ll get in the real world.<li><a href="https://localstack.cloud/">LocalStack</a> - “A fully functional cloud stack. Develop and test your cloud and serverless apps offline.” This seems like a good approach if offline is the only option. It could be really good for serverless apps, and might be the best approach for using testing queues.</ol><p>I’m going to go with option 1 for testing S3 uploads (which is the main part of the fetcher) given it should be relatively cheap and a good excuse to get the AWS account set up.</p><h3 id="question-3-java-project-layout">Question 3: Java project layout</h3><blockquote><p>What does a Java project layout look like?</p></blockquote><p>It turns out that Maven has a <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">standard directory layout</a>. I’m sure there are more complex use cases that deviate from this, but it’s a great resource for getting started.</p><h3 id="question-4-fetcher-system-design">Question 4: Fetcher system design</h3><blockquote><p>Map data udpates are published by the FAA, so we don’t have to download the full set each time. What does the system design look like around doing the initial fetch, and then diffs?</p></blockquote><p>Now the good stuff. I’ll post a more in-depth description of this as development continues, but here’s what I have so far:</p><ol><li><p>First, we need to get the metadata about charts from the FAA site. This includes the areas available, and for each area, when the current edition of the chart was published, and when the next edition will be published. Each ‘edition’ also has multiple downloads (a geo-referenced TIFF in a ZIP file, and a PDF). We want to grab those URLS for each edition, for each area, and save them. It looks like the FAA <a href="https://app.swaggerhub.com/apis/FAA/APRA/1.2.0">might have an API for this</a>, otherwise it’ll be good old scraping.</p><p><em>(NB. this <strong>could</strong> be hardcoded in theory – the chart areas and URLs are unlikely to change, but having them loaded dynamically gives us a bit of robustness on the off chance this data does change).</em></p><li><p>Then, we run a ‘consistency check’ stage where we check our S3 bucket to make sure we have all the charts we found on the website (ignoring updates at this point), and fetch any missing charts.</p><p>There are two options for storing the metadata: in a table with an S3 URL, or encode it in the filename. I think I’ll opt for the filename approach (something like <code class="language-plaintext highlighter-rouge">sectional/albuquerque_current_2022-05-19.zip</code>) which saves a database trip given we’ll already be enumerating the filenames.</p><li><p>Once the consistency check is done, we should be able to download the “56-day sets” containing only charts that have been updated, and update the affected charts in S3.</p></ol><h3 id="current-status">Current status</h3><p>So far I’ve written out classes to hold the chart metadata, and method stubs for the consistency checks. Next steps will be checking the API (or HTML doc) and loading chart metadata.</p><p>More soon…</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/projects/'>projects</a>, <a href='/categories/pmp/'>pmp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pmp/" class="post-tag no-text-decoration" >pmp</a> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=PMP Update 4: Fetcher scaffolding - httpete.nz&url=https://httpete.nz/posts/pmp4-fetcher-scaffolding/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=PMP Update 4: Fetcher scaffolding - httpete.nz&u=https://httpete.nz/posts/pmp4-fetcher-scaffolding/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=PMP Update 4: Fetcher scaffolding - httpete.nz&url=https://httpete.nz/posts/pmp4-fetcher-scaffolding/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/pmp8-porting-the-fetcher/">PMP Update 8: Porting the fetcher</a><li><a href="/posts/pmp7-web-project-setup-with-nextjs-and-docker/">PMP Update 7: Web project setup with Next.js and Docker</a><li><a href="/posts/pmp6-running-webapi-in-docker/">PMP Update 6: Creating and running the Web API container</a><li><a href="/posts/pmp5-architecture-use-case-life-update/">PMP Update 5: Architecture, use case, life update</a><li><a href="/posts/map-project-docker-container/">PMP Update 2: Java+Docker</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pmp/">pmp</a> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/aviation/">aviation</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/big-o-notation/">big-o-notation</a> <a class="post-tag" href="/tags/cs-study/">cs-study</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/projects/">projects</a> <a class="post-tag" href="/tags/azure/">azure</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/from-scratch/"><div class="card-body"> <span class="timeago small" >Jun 27, 2022<i class="unloaded">2022-06-27T22:59:00+12:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>PMP Update 3: From scratch</h3><div class="text-muted small"><p> Life’s had a rapid reshuffle over the last few weeks, mainly centered around interviewing for and then getting up to speed with a new job. But the smoke has cleared and I’m excited to pick up where...</p></div></div></a></div><div class="card"> <a href="/posts/pmp5-architecture-use-case-life-update/"><div class="card-body"> <span class="timeago small" >Dec 21, 2023<i class="unloaded">2023-12-21T21:17:00+13:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>PMP Update 5: Architecture, use case, life update</h3><div class="text-muted small"><p> Life update After a short 1 year, 3 months, and 29 day process, my green card has been issued. It’s been a whirlwind since. We packed up life in Christchurch, moved to the Chicago North Shore and...</p></div></div></a></div><div class="card"> <a href="/posts/pmp6-running-webapi-in-docker/"><div class="card-body"> <span class="timeago small" >Jan 8<i class="unloaded">2024-01-08T10:58:00+13:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>PMP Update 6: Creating and running the Web API container</h3><div class="text-muted small"><p> Setup Docker Desktop Windows 10 Home Visual Studio Web API Project setup and layout I wanted to try implementing the API following the Clean Architecture approach, and using a repository...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/from-scratch/" class="btn btn-outline-primary" prompt="Older"><p>PMP Update 3: From scratch</p></a> <a href="/posts/pmp5-architecture-use-case-life-update/" class="btn btn-outline-primary" prompt="Newer"><p>PMP Update 5: Architecture, use case, life update</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://twitter.com/nz_pete">Pete Russell</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/pmp/">pmp</a> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/aviation/">aviation</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/big-o-notation/">big o notation</a> <a class="post-tag" href="/tags/cs-study/">cs study</a> <a class="post-tag" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag" href="/tags/projects/">projects</a> <a class="post-tag" href="/tags/azure/">azure</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://httpete.nz{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=27195873"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '27195873'); }); </script>
